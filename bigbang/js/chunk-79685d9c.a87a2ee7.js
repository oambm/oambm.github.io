(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79685d9c"],{"7ea6":function(t,e,s){},"86b9":function(t,e,s){"use strict";s("7ea6")},"86b9f":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"power-transfer"},[s("span",[t._v(t._s(t.$t("powerTransfer.text1")))]),s("div",{staticClass:"container"},[s("div",{staticClass:"transfer-amount"},[s("div",{staticClass:"title"},[s("span",[t._v(t._s(t.$t("powerTransfer.text2")))]),s("span",[t._v(t._s(t.balance.toFixed(4)))])]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",placeholder:t.$t("powerTransfer.text3")},domProps:{value:t.amount},on:{input:[function(e){e.target.composing||(t.amount=e.target.value)},t.input]}}),s("van-button",{on:{click:t.allIn}},[t._v(t._s(t.$t("powerTransfer.text4")))])],1)]),s("div",{staticClass:"toAddress"},[s("span",[t._v(t._s(t.amount>0?t.$t("powerTransfer.text5"):t.$t("powerTransfer.text6"))+" "),s("span",[t._v(t._s(t.receive))])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.toAddress,expression:"toAddress"}],attrs:{type:"text",placeholder:t.$t("powerTransfer.text7")},domProps:{value:t.toAddress},on:{input:function(e){e.target.composing||(t.toAddress=e.target.value)}}})]),s("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.trading,expression:"!trading"}],staticClass:"double-button",on:{click:t.transfer}},[t._v(t._s(t.$t("powerTransfer.text8")))]),s("van-button",{directives:[{name:"show",rawName:"v-show",value:t.trading,expression:"trading"}],staticClass:"double-button",attrs:{loading:"","loading-text":t.$t("powerTransfer.text9")}})],1)])},a=[],r=(s("b0c0"),s("b680"),s("e7e5"),s("d399")),i=s("ade3"),o=(s("66b9"),s("b650")),c=5,d={components:Object(i["a"])({},o["a"].name,o["a"]),data:function(){return{amount:"",toAddress:"",balance:0,receive:"".concat(c,"%"),trading:!1}},created:function(){this.$contracts&&this.init()},methods:{allIn:function(){this.amount=this.balance,this.input()},input:function(){if(this.amount<=0)return this.receive="".concat(c,"%"),!1;this.receive=this.amount.toBN().minus(this.amount.toBN().div(100).times(c)).toFixed().toFixed(0)},transfer:function(){var t=this;if(this.amount<=0)return r["a"].fail(this.$t("powerTransfer.text10"));if(this.balance.toBN().lt(this.amount))return r["a"].fail(this.$t("powerTransfer.text11"));if(!this.$web3.utils.isAddress(this.toAddress))return r["a"].fail(this.$t("powerTransfer.text12"));var e=this.$contracts.ForceToken.methods.transfer(this.toAddress,this.amount.toWei());e.call({from:this.$address},(function(s,n){s||e.send({from:t.$address}).on("transactionHash",(function(e){t.trading=!0})).on("receipt",(function(e){t.init(),r["a"].success(t.$t("powerTransfer.text13")),t.trading=!1,t.amount="",t.receive="".concat(c,"%"),t.toAddress=""})).on("error",(function(e){t.trading=!1}))}))},init:function(){var t=this;this.$contracts.ForceToken.methods.balanceOf(this.$address).call({from:this.$address},(function(e,s){e||(t.balance=s.fromWei().toFixed(0))}))}}},u=d,l=u,f=(s("86b9"),s("2877")),p=Object(f["a"])(l,n,a,!1,null,"7362ce6c",null);e["default"]=p.exports}}]);