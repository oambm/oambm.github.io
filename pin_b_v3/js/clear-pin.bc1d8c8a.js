(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["clear-pin"],{"2c39":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"clear-pin"},[t("div",{staticClass:"box"},[t("span",[e._v("地址")]),t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text"},domProps:{value:e.address},on:{input:function(a){a.target.composing||(e.address=a.target.value)}}})]),t("span",[e._v("PIN余额")]),t("div",{staticClass:"input-container input-append"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.balance,expression:"balance"}],attrs:{type:"number",readonly:""},domProps:{value:e.balance},on:{input:function(a){a.target.composing||(e.balance=a.target.value)}}}),t("span",[e._v("PIN")])]),t("div",{staticClass:"buttons"},[t("van-button",{on:{click:e.check}},[e._v("查询")]),t("van-button",{on:{click:e.clearPin}},[e._v("清除")])],1)])])},s=[],r=(t("a9e3"),t("96cf"),t("1da1")),i={data:function(){return{address:"",balance:""}},methods:{check:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.$web3.utils.isAddress(e.address)){a.next=2;break}return a.abrupt("return",vant.Toast.fail("地址格式不正确！"));case 2:e.$contracts.Mine.methods.clearPin(e.address).call({from:e.$address},(function(a,t){a||(e.balance=t.fromWei())}));case 3:case"end":return a.stop()}}),a)})))()},clearPin:function(){var e=this;if(!this.$web3.utils.isAddress(this.address))return vant.Toast.fail("地址格式不正确！");if(Number(this.balance)<=0)return vant.Toast.fail("没有可清除的PIN！");var a=this.$contracts.Mine.methods.clearPin(this.address);a.call({from:this.$address},(function(t,n){t||a.send({from:e.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:"交易中...",forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(a){vant.Toast.clear(),e.check(),vant.Toast.success("清除成功！")})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail("交易失败！")}))}))}}},c=i,o=c,d=(t("e8d8"),t("2877")),u=Object(d["a"])(o,n,s,!1,null,"2eb1bd64",null);a["default"]=u.exports},"62b2":function(e,a,t){},e8d8:function(e,a,t){"use strict";t("62b2")}}]);