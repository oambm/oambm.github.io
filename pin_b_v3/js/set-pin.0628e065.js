(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["set-pin"],{"48d3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"set-pin"},[a("div",{staticClass:"box"},[a("span",[t._v("拼团设置")]),t._m(0),a("span",[t._v("拼团金额")]),a("div",{staticClass:"input-container input-append"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],attrs:{type:"number"},domProps:{value:t.payment},on:{input:function(e){e.target.composing||(t.payment=e.target.value)}}}),a("span",[t._v("PIN")])]),a("span",[t._v("算力值(≈500U)")]),a("div",{staticClass:"input-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pinValue,expression:"pinValue"}],attrs:{type:"number"},domProps:{value:t.pinValue},on:{input:function(e){e.target.composing||(t.pinValue=e.target.value)}}})]),a("span",[t._v("参与奖励")]),a("div",{staticClass:"input-container input-append"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.partakeAward,expression:"partakeAward"}],attrs:{type:"number"},domProps:{value:t.partakeAward},on:{input:function(e){e.target.composing||(t.partakeAward=e.target.value)}}}),a("span",[t._v("%")])]),a("span",[t._v("开奖奖励")]),a("div",{staticClass:"input-container input-append"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.senderAward,expression:"senderAward"}],attrs:{type:"number"},domProps:{value:t.senderAward},on:{input:function(e){e.target.composing||(t.senderAward=e.target.value)}}}),a("span",[t._v("%")])]),a("van-button",{on:{click:t.updateStall}},[t._v("确认")])],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"token"},[n("img",{attrs:{src:a("f48e")}}),n("span",[t._v("PIN")])])}],s=(a("b680"),{data:function(){return{payment:"",pinValue:"",partakeAward:"",senderAward:""}},created:function(){this.$contracts&&this.init()},methods:{init:function(){var t=this;this.$contracts.Pin.methods.stalls(0).call({from:this.$address},(function(e,a){e||(t.payment=a.payment.fromWei(),t.pinValue=a.pinValue,t.partakeAward=a.partakeAward.toBN().div(1e12).times(100).toFixed(),t.senderAward=a.senderAward.toBN().div(1e12).times(100).toFixed())}))},updateStall:function(){var t=this,e=this.$contracts.Pin.methods.UpdateStall(0,this.payment.toWei(),this.pinValue,this.partakeAward.toBN().div(100).times(1e12).toFixed(),this.senderAward.toBN().div(100).times(1e12).toFixed());e.call({from:this.$address},(function(a,n){a||e.send({from:t.$address}).on("transactionHash",(function(t){vant.Toast.loading({message:"交易中...",forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(e){vant.Toast.clear(),t.init(),vant.Toast.success("拼团设置成功！")})).on("error",(function(t){vant.Toast.clear(),vant.Toast.fail("交易失败！")}))}))}}}),r=s,o=r,p=(a("8083"),a("2877")),d=Object(p["a"])(o,n,i,!1,null,"e9fc418e",null);e["default"]=d.exports},8083:function(t,e,a){"use strict";a("c1f2")},c1f2:function(t,e,a){},f48e:function(t,e,a){t.exports=a.p+"img/PinToken.296c1226.svg"}}]);