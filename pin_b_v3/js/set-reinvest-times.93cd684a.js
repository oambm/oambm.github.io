(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["set-reinvest-times"],{2698:function(e,t,n){},be213:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"set-destory-times"},[n("div",{staticClass:"box"},[n("span",[e._v("当前定投比例")]),n("div",{staticClass:"input-container input-append"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.oldReinvestTimes,expression:"oldReinvestTimes"}],attrs:{type:"number",readonly:""},domProps:{value:e.oldReinvestTimes},on:{input:function(t){t.target.composing||(e.oldReinvestTimes=t.target.value)}}}),n("span",[e._v("%")])]),n("span",[e._v("设置定投比例")]),n("div",{staticClass:"input-container input-append"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newReinvestTimes,expression:"newReinvestTimes"}],attrs:{type:"number"},domProps:{value:e.newReinvestTimes},on:{input:function(t){t.target.composing||(e.newReinvestTimes=t.target.value)}}}),n("span",[e._v("%")])]),n("van-button",{on:{click:e.setReinvestTimes}},[e._v("确认")])],1)])},i=[],o=(n("b680"),n("96cf"),n("1da1")),a={data:function(){return{oldReinvestTimes:"",newReinvestTimes:""}},created:function(){this.$contracts&&this.init()},methods:{init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$contracts.Mine.methods.redepositedProps().call({from:e.$address},(function(t,n){console.log(t,n),t||(e.oldReinvestTimes=n.toBN().times(100).div(1e12).toFixed())}));case 1:case"end":return t.stop()}}),t)})))()},setReinvestTimes:function(){var e=this,t=this.$contracts.Mine.methods.setRedepositProps(this.newReinvestTimes.toBN().div(100).times(1e12).toFixed(0));t.call({from:this.$address},(function(n,s){console.log(n,s),n||t.send({from:e.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:"交易中...",forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(t){vant.Toast.clear(),e.init(),e.newReinvestTimes="",vant.Toast.success("设置成功！")})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail("交易失败！")}))}))}}},r=a,c=r,d=(n("f465"),n("2877")),u=Object(d["a"])(c,s,i,!1,null,"3cd94eda",null);t["default"]=u.exports},f465:function(e,t,n){"use strict";n("2698")}}]);