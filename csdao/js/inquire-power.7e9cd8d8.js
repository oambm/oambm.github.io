(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["inquire-power"],{"0a13":function(e,n,t){"use strict";t("7c80")},"43d1":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"inquire-power"},[t("div",{staticClass:"box"},[t("span",[e._v("查询地址")]),t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inquireAddress,expression:"inquireAddress"}],attrs:{type:"text"},domProps:{value:e.inquireAddress},on:{input:function(n){n.target.composing||(e.inquireAddress=n.target.value)}}})]),t("span",[e._v("算力")]),t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.power,expression:"power"}],attrs:{type:"number",readonly:""},domProps:{value:e.power},on:{input:function(n){n.target.composing||(e.power=n.target.value)}}})]),t("span",[e._v("增加算力")]),t("div",{staticClass:"input-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addPower,expression:"addPower"}],attrs:{type:"number"},domProps:{value:e.addPower},on:{input:function(n){n.target.composing||(e.addPower=n.target.value)}}})]),t("van-button",{on:{click:e.inquire}},[e._v("查询")]),t("van-button",{on:{click:e.increaseGenesisPower}},[e._v("增加")])],1)])},i=[],s=(t("96cf"),t("1da1")),a={data:function(){return{inquireAddress:"",power:"",addPower:""}},methods:{inquire:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.$web3.utils.isAddress(e.inquireAddress)){n.next=2;break}return n.abrupt("return",vant.Toast.fail("地址格式不正确！"));case 2:e.$contracts.Mine.methods.mineInfo().call({from:e.inquireAddress},(function(n,t){n||(e.power=t.myPower)}));case 3:case"end":return n.stop()}}),n)})))()},increaseGenesisPower:function(){var e=this;if(!this.$web3.utils.isAddress(this.inquireAddress))return vant.Toast.fail("地址格式不正确！");if(this.addPower.toBN().lte(0))return vant.Toast.fail("增加算力必须大于0！");var n=this.$contracts.Mine.methods.increaseGenesisPower(this.inquireAddress,this.addPower);n.call({from:this.$address},(function(t,r){t||n.send({from:e.$address}).on("transactionHash",(function(e){vant.Toast.loading({message:"交易中...",forbidClick:!0,duration:0,loadingType:"spinner"})})).on("receipt",(function(n){e.inquire(),vant.Toast.clear(),vant.Toast.success("增加成功！")})).on("error",(function(e){vant.Toast.clear(),vant.Toast.fail("交易失败！")}))}))}}},o=a,u=o,d=(t("0a13"),t("2877")),c=Object(d["a"])(u,r,i,!1,null,"743a976e",null);n["default"]=c.exports},"7c80":function(e,n,t){}}]);